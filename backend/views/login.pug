doctype html
html
  head
    title Admin Login
    style.
      body { font-family: sans-serif; padding: 40px; background: #f4f4f4; }
      .container { max-width: 400px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
      .token-box { background: #e8f5e9; padding: 15px; border: 1px solid #c8e6c9; word-break: break-all; margin-top: 20px; font-family: monospace; }
      .error { color: red; margin-bottom: 10px; }
      input { width: 100%; padding: 8px; margin: 10px 0; display: block; box-sizing: border-box; }
      button { width: 100%; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }

  body
    .container
      h1 Login
      
      if error
        p.error #{error}
  
      if !token
        form(action="/login" method="POST")
          .form-group
            label Username:
            input(type="text" name="username" required)
          .form-group
            label Password:
            input(type="password" name="password" required)
          button(type="submit") Generate Token

      else
        h2 Access Granted
        p Your session is ready. Use the button below to enter the management area:
        
        //- The "Big Green Button" approach
        div(style="margin: 20px 0;")
          a(
            href=`/products?token=${token}` 
            style="display: inline-block; padding: 15px 25px; background: #2ecc71; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; font-size: 1.1em;"
          ) ENTER DASHBOARD â†’

        hr
        
        p(style="font-size: 0.8em; color: #666;") For API tools, your manual JWT is:
          .token-box(style="background: #eee; padding: 10px; word-break: break-all; border: 1px dashed #ccc; font-family: monospace;") #{token}